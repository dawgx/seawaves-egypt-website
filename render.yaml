services:
  # Sea Waves - Full-Stack Service (React App + API)
  - type: web
    name: sea-waves-aqua-center
    env: node
    region: oregon
    plan: free
    buildCommand: npm install && npm run build && node copy-public.js
    startCommand: node server.js
    healthCheckPath: /api/health
    autoDeploy: true
    pullRequestPreviewsEnabled: true
    envVars:
      # SendGrid Configuration (Primary Email Service)
      # Set these in Render dashboard Environment tab:
      # SENDGRID_API_KEY=your_api_key_here
      # SENDGRID_FROM=settlethailand@gmail.com
      
      # Gmail SMTP Configuration (Backup Email Service)
      # Set these in Render dashboard Environment tab:
      # EMAIL_USER=settlethailand@gmail.com
      # EMAIL_PASS=your_gmail_app_password
      
      # Twilio WhatsApp Configuration (REQUIRED for WhatsApp notifications)
      # Set these in Render dashboard Environment tab:
      # TWILIO_ACCOUNT_SID=AC970c23c1d9ec86c43c45d6ace8a4c307
      # TWILIO_AUTH_TOKEN=your_twilio_auth_token_here (get from Twilio Console > Account > API Keys & Tokens)
      # TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
      # TWILIO_WHATSAPP_TO=whatsapp:+962798350069
      
      # Server Configuration
      - key: NODE_ENV
        value: production
      - key: EMAIL_SERVICE
        value: sendgrid
